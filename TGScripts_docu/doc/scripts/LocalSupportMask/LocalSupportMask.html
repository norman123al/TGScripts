<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
   <meta http-equiv="content-type" content="text/html; charset=UTF-8" />
   <title>PixInsight Reference Documentation | LocalSupportMask</title>
   <meta name="keywords" content="deconvolution, sharpening" />
   <meta name="author" content="Thorsten Glebe" />
   <meta name="description" content="A script to create a local support mask for Deconvolution." />
   <meta name="robots" content="INDEX,FOLLOW" />
   <meta name="generator" content="PixInsight Documentation Compiler script version 1.6.9" />
   <script type="text/javascript" src="../../pidoc/scripts/pidoc-utility.js"></script>
   <link type="text/css" href="../../pidoc/css/pidoc-common.css" rel="stylesheet" />
   <link type="text/css" href="../../pidoc/css/pidoc-highlight.css" rel="stylesheet" />
   <link type="text/css" href="../../pidoc/css/pidoc-tool.css" rel="stylesheet" />
   <link rel="icon" href="../../pidoc/icons/pidoc-icon.png" type="image/png" />
   <link rel="shortcut icon" href="../../pidoc/icons/pidoc-icon.png" type="image/png" />
</head>
<body>
<script type="text/javascript">
   pidoc_generateDynamicContents();
</script>

<h1>LocalSupportMask</h1>

<div id="authors">
<p>By Thorsten Glebe</p>
</div>

<hr class="separator"/>

<div id="brief">
<p>A script to create a local support mask for Deconvolution. <a href="#__contents__">[more]</a></p></div>

<div id="keywords">
<p><strong>Keywords:</strong> deconvolution, sharpening</p>
</div>

<h3 class="pidoc_sectionTitle" id="__toc__">Contents</h3>
<p class="pidoc_sectionToggleButton" onclick="pidoc_toggleSection( 'toc', this );">[hide]</p>
<div id="toc">
<ul>
<li class="pidoc_tocItem"><a href="#__Description__">1&emsp;Description</a></li>
<li class="pidoc_tocItem"><a href="#__Parameter_Reference__">2&emsp;Parameter Reference</a></li>
<li class="pidoc_tocItem"><a href="#__Overlay_Preview__">3&emsp;Overlay Preview</a></li>
</ul>
</div>

<div id="__contents__">

<div class="pidoc_section" id="__Description__">
   <h3 class="pidoc_sectionTitle">1&emsp;Description</h3>
   <p class="pidoc_sectionToggleButton" onclick="pidoc_toggleSection( 'Description', this );">[hide]</p>
   <div id="Description">
<img style="float:left;margin-right:1.25em;margin-bottom:0.5em;" src="images/LocalSupportMask_main_screen.png" alt=""/>
<p>The deconvolution process in pixinsight offers the possiblity to provide a so-called local support mask which is essentially a star mask to protect (bright) stars from deconvolution artifacts. This script automates the generation of a local support mask and provides the essential parameters to influence the mask generation. The script assumes that the source image from which the local support mask is generated is a linear, grayscale image. The image is assumed linear because deconvolution is applied before the image is stretched. A mask is best generated from the luminance data, thus the source image should be grayscale. In case the image is detected to be non-linear or RGB, a warning message will pop up, which can eiter be confirmed or canceled. If confirmed, the script will exit. In case the user cancels the warning pop up, the mask will be generated from the specified image.</p>
   </div>
</div>

<div class="pidoc_section" id="__Parameter_Reference__">
   <h3 class="pidoc_sectionTitle">2&emsp;<a id="parameter_reference"></a>Parameter Reference</h3>
   <p class="pidoc_sectionToggleButton" onclick="pidoc_toggleSection( 'Parameter_Reference', this );">[hide]</p>
   <div id="Parameter_Reference">

<dl class="pidoc_list">
<dt>
<p><a id="target_image"></a> Target Image</p>
</dt>
<dd>
<p>The target image control allows to choose a main view of an image (either grayscale or RGB) as a target for local support mask generation.</p>
</dd>
</dl>


<dl class="pidoc_list">
<dt>
<p><a id="mask_strength"></a> Strength</p>
</dt>
<dd>
<p>The 'Strength' parameter specifies the brightness of the star mask and thus the amount of protection of the stars.</p>
</dd>
</dl>


<dl class="pidoc_list">
<dt>
<p><a id="wavelet_scale"></a> Scale</p>
</dt>
<dd>
<p>The 'Scale' parameter specifies the number of wavelet layers for star mask generation.</p>
</dd>
</dl>


<dl class="pidoc_list">
<dt>
<p><a id="large_scale"></a> Large Scale</p>
</dt>
<dd>
<p>The 'Large-scale' parameter determines the growth of large scale structures in the star mask.</p>
</dd>
</dl>


<dl class="pidoc_list">
<dt>
<p><a id="small_scale"></a> Small Scale</p>
</dt>
<dd>
<p>The 'Small-scale' parameter determines the growth of small scale structures in the star mask.</p>
</dd>
</dl>


<dl class="pidoc_list">
<dt>
<p><a id="compensation_scale"></a> Compensation</p>
</dt>
<dd>
<p>The 'Compensation' parameter specifies the number of wavelet layers small scale growth compensation.</p>
</dd>
</dl>


<dl class="pidoc_list">
<dt>
<p><a id="smoothness_scale"></a> Smoothness</p>
</dt>
<dd>
<p>The 'Smoothness' parameter determines the smoothness of the mask structures.</p>
</dd>
</dl>

   </div>
</div>

<div class="pidoc_section" id="__Overlay_Preview__">
   <h3 class="pidoc_sectionTitle">3&emsp;<a id="overlay_preview"></a>Overlay Preview</h3>
   <p class="pidoc_sectionToggleButton" onclick="pidoc_toggleSection( 'Overlay_Preview', this );">[hide]</p>
   <div id="Overlay_Preview">
<p>By checking the 'Create Overlay Preview' checkbox, an image is generated which shows the stars and an overlay of the star mask which would be generated by the specified parameters.This helps to judge if the resulting star mask fits or if parameters needs to be adjusted. An example of an overlay preview is shown in the following image.</p>

<div style="text-align:center;">
<img style="float:left;margin-right:1.25em;margin-bottom:0.5em;" src="images/LocalSupportMask_overlay_preview.png" alt=""/>
</div>
   </div>
</div>

<hr class="separator"/>

<div id="copyright">
   <p>Copyright &copy; 2022 Dr. Thorsten Glebe</p>
</div>

<div id="footer">
   <p>Generated by the PixInsight Documentation Compiler script version 1.6.9 on 2022-11-06 12:07:25 UTC</p>
</div>
<br/>
<br/>

</div> <!-- contents -->

</body>
</html>
